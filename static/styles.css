/* Brand-free mail UI inspired layout (dark) */
:root{
  --bg: #0e0f12;
  --surface: #14161a;
  --elev: #1a1d22;
  --muted: #8a93a1;
  --text: #d7dce7;
  --accent: #4aa3ff;
  --ring: #2b65d9;
  --border: #22262d;
  --shadow: 0 6px 24px rgba(0,0,0,.35);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font:14px/1.4 system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
}

/* Top bar */
.topbar{
  height:56px;
  display:grid;
  grid-template-columns: 180px 1fr auto;
  gap:12px;
  align-items:center;
  padding:0 16px;
  background:var(--surface);
  border-bottom:1px solid var(--border);
  position:sticky;
  top:0;
  z-index:10;
}
.brand{ font-weight:700; letter-spacing:.3px; }
.search-wrap{ max-width:720px; width:100%; }
.search-wrap input{
  width:100%; height:36px;
  border-radius:10px; border:1px solid var(--border);
  background:var(--elev); color:var(--text); padding:0 12px; outline:none;
  box-shadow: inset 0 0 0 1px transparent;
}
.search-wrap input:focus{
  border-color:var(--ring);
  box-shadow: 0 0 0 3px rgba(74,163,255,.18);
}
.actions{ display:flex; gap:8px; }
.icon-btn{
  display:inline-grid; place-items:center;
  width:36px; height:36px; border-radius:10px;
  border:1px solid var(--border); background:var(--elev);
  cursor:pointer; transition: transform .06s ease, background .2s ease, border-color .2s ease;
}
.icon-btn:hover{ background:#1f232a; }
.icon-btn:active{ transform: translateY(1px) }
.icon-btn svg{ width:18px; height:18px; fill:var(--text); opacity:.9; }

/* Layout */
.layout{
  display:grid;
  grid-template-columns: 264px 360px 1fr;
  height:calc(100vh - 56px);
  min-height:520px;
}

/* Sidebar */
.sidebar{
  border-right:1px solid var(--border);
  background:linear-gradient(180deg, var(--surface), var(--bg));
  padding:12px 10px;
  overflow:auto;
}
.section + .section{ margin-top:18px; }
.section h3{
  font-size:12px; color:var(--muted); margin:10px 6px;
  font-weight:600; letter-spacing:.4px; text-transform:uppercase;
}
.list-nav{ display:flex; flex-direction:column; gap:2px; }
.nav-item{
  display:flex; align-items:center; gap:10px;
  padding:8px 10px; border-radius:8px;
  color:var(--text); text-decoration:none; cursor:pointer;
}
.nav-item:hover{ background:#1b1f25; }
.nav-item.active{ background:#1e2229; }
.badge{
  margin-left:auto; min-width:18px; height:18px; padding:0 4px;
  background:var(--elev); border:1px solid var(--border); border-radius:99px;
  font-size:11px; display:grid; place-items:center; color:var(--muted);
}
/* simple geometric “icons” to avoid brand assets */
.icon{ width:16px;height:16px;border:1.5px solid var(--muted);border-radius:3px; }
.icon.mailbox{ border-radius:4px }
.icon.star{ clip-path: polygon(50% 0, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%); background: var(--muted); border:0 }
.icon.file{ border-top-width:0 }
.icon.send{ border-left-width:0 }
.icon.warn{ border-color:#d97706 }
.icon.trash{ border-radius:50% }
.icon.archive{ border-style:dashed }
.icon.folder{ border-bottom-width:0 }

.foot{ margin-top:24px; padding:8px 10px; color:var(--muted); border-top:1px dashed var(--border); }
.small{ font-size:12px }

/* Middle pane */
.message-pane{
  border-right:1px solid var(--border);
  background:var(--bg);
  display:flex; flex-direction:column;
}
.pane-header{
  display:flex; align-items:baseline; gap:12px;
  padding:14px 16px; border-bottom:1px solid var(--border);
}
.pane-header h2{ font-size:16px; margin:0; }
.muted{ color:var(--muted); }
.messages{ list-style:none; margin:0; padding:0; overflow:auto; position:relative; flex:1; }
.empty .empty-state{
  position:absolute; inset:0; display:grid; place-items:center;
  color:#7b8495; font-size:28px; letter-spacing:.3px;
}

/* Detail pane */
.detail-pane{ background:var(--bg); position:relative; }
.placeholder{
  position:absolute; inset:0; display:grid; place-items:center;
  color:#7b8495; font-size:22px;
}

/* Refresh spin animation */
.refresh-icon.spin{ animation: rotate360 .6s linear; }
@keyframes rotate360{ to{ transform: rotate(360deg); } }

/* Responsive */
@media (max-width: 1080px){
  .layout{ grid-template-columns: 220px 1fr; }
  .detail-pane{ display:none; }
}
@media (max-width: 720px){
  .topbar{ grid-template-columns: 1fr auto; }
  .brand{ display:none; }
  .layout{ grid-template-columns: 1fr; }
  .sidebar{ display:none; }
}

/* icons (inline SVG) */
.nav-item svg { width:16px; height:16px; margin-right:10px; stroke:var(--muted); fill:none; stroke-width:1.75 }
.nav-item.active svg { stroke:var(--accent); }

/* message rows */
.messages li { list-style:none; }
.message-row{ padding:10px 12px; border-bottom:1px solid var(--border); cursor:pointer; }
.message-row:hover{ background:#1b1f25; }
.message-row .top{ display:flex; align-items:center; gap:8px; }
.message-row .dot{ width:6px;height:6px;border-radius:50%; background:transparent; border:1px solid var(--muted); }
.message-row.unread .dot{ background:var(--accent); border-color:var(--accent); }
.message-row .sender{ font-weight:600; }
.message-row .meta{ margin-left:auto; color:var(--muted); font-size:12px; }
.message-row .subject{ margin-top:2px; }
.message-row .preview{ color:var(--muted); font-size:12px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.message-row .priority{ font-size:11px; color:var(--accent); margin-right:4px; }
.message-row.selected{ background:#1e2229; }
.message-row.selected:hover{ background:#22262f; }
.message-row.selected .sender{ font-weight:700; }

/* detail view */
.detail-view{ height:100%; display:flex; flex-direction:column; }
.detail-head{
  padding:16px; border-bottom:1px solid var(--border);
}
.detail-head h1{ margin:0 0 6px; font-size:18px; line-height:1.2; }
.detail-head .meta{ color:var(--muted); font-size:12px; }
.detail-body{
  padding:16px; overflow:auto; height:100%;
}
.detail-body pre{
  margin:0; font-family: ui-monospace, SFMono-Regular, Menlo, monospace;
  white-space: pre-wrap; color:var(--text);
}

.detail-body-content{
  max-width: 820px;
  margin: 0 auto;
}

.detail-body-content.email-light{
  background:#fff;
  color:#000;
  border-radius:12px;
  padding:16px 18px;
  box-shadow: var(--shadow);
}

.detail-body-content img{
  max-width:100%;
  height:auto;
}

.attachment-bar{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
  margin-bottom:12px;
}

.attachment-pill{
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding:6px 10px;
  border-radius:999px;
  background:var(--surface);
  border:1px solid var(--border);
  font-size:12px;
  color:var(--text);
  box-shadow: var(--shadow);
}

.attachment-icon{
  display:inline-flex;
  align-items:center;
  justify-content:center;
}

.attachment-icon svg{
  width:14px;
  height:14px;
  stroke:var(--muted);
  fill:none;
  stroke-width:1.8;
}

.attachment-name{
  max-width:180px;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

.attachment-size{
  color:var(--muted);
  font-size:11px;
}

/* --- Compose ("Write") view --- */

.compose-view{
  height:100%;
  display:flex;
  flex-direction:column;
}

.compose-head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:12px 16px;
  border-bottom:1px solid var(--border);
}

.compose-title{
  font-size:16px;
  font-weight:600;
}

.compose-head-actions{
  display:flex;
  align-items:center;
  gap:4px;
}

/* smaller icon button inside compose header */
.icon-btn.small{
  width:28px;
  height:28px;
}

.compose-fields{
  padding:8px 16px;
  border-bottom:1px solid var(--border);
  display:flex;
  flex-direction:column;
  gap:8px;
}

.compose-field{
  display:flex;
  align-items:center;
  gap:8px;
}

.compose-field label{
  width:64px;
  font-size:13px;
  color:var(--muted);
}

.compose-field input{
  flex:1;
  height:28px;
  border-radius:8px;
  border:1px solid var(--border);
  background:var(--bg);
  color:var(--text);
  padding:4px 8px;
  outline:none;
}

.compose-field input:focus{
  border-color:var(--ring);
  box-shadow:0 0 0 2px rgba(74,163,255,.2);
}

.compose-field select{
  height:28px;
  border-radius:8px;
  border:1px solid var(--border);
  background:var(--bg);
  color:var(--text);
  padding:4px 8px;
  outline:none;
}

.compose-field select:focus{
  border-color:var(--ring);
  box-shadow:0 0 0 2px rgba(74,163,255,.2);
}

/* Subject + priority side by side */
.subject-with-priority{
  flex:1;
  display:flex;
  align-items:center;
  gap:8px;
}

.subject-with-priority input{
  flex:1;
}

.priority-select{
  min-width:120px;
}

.compose-toolbar{
  display:flex;
  align-items:center;
  gap:4px;
  padding:6px 16px;
  border-bottom:1px solid var(--border);
  background:var(--surface);
}

.compose-toolbar button{
  border:none;
  background:transparent;
  color:var(--muted);
  padding:4px 6px;
  border-radius:6px;
  cursor:pointer;
  font-size:13px;
}

.compose-toolbar button:hover{
  background:#1f232a;
  color:var(--text);
}

.compose-toolbar button.active{
  background:#1e2229;
  color:var(--accent);
}

.toolbar-separator{
  width:1px;
  height:18px;
  background:var(--border);
  margin:0 4px;
}

.compose-editor{
  flex:1;
  padding:12px 16px;
  outline:none;
  overflow:auto;
}

.compose-editor:empty:before{
  content:"Write your message...";
  color:var(--muted);
}

.compose-foot{
  padding:10px 16px;
  border-top:1px solid var(--border);
  display:flex;
  justify-content:flex-start;
}

.primary-btn{
  border:none;
  border-radius:999px;
  padding:6px 18px;
  background:var(--accent);
  color:#fff;
  font-weight:500;
  font-size:13px;
  cursor:pointer;
  box-shadow:var(--shadow);
}

.primary-btn:hover{
  filter:brightness(1.1);
}

/* account items under "All" */
.nav-item.account { padding-left: 28px; opacity: .95; }
.nav-item.account svg { width:14px; height:14px; margin-right:10px; }